import{V as Re,j as e,W as ze,S as Fe,P as We,T as Ge,C as Le,B as Oe,M as Ve,a as Me,b as He,c as _e,d as Ue,D as Ke,A as qe,R as Xe,e as Je,f as Ye}from"./three-Dt_gOOVf.js";import{b as a,u as Ze,B as $e,L as be,R as Qe,c as je}from"./vendor-3h1-2r-Q.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function i(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(r){if(r.ep)return;r.ep=!0;const n=i(r);fetch(r.href,n)}})();var et=(t,s,i,o,r,n,c,x)=>{let h=document.documentElement,S=["light","dark"];function f(w){(Array.isArray(t)?t:[t]).forEach(g=>{let j=g==="class",I=j&&n?r.map(G=>n[G]||G):r;j?(h.classList.remove(...I),h.classList.add(n&&n[w]?n[w]:w)):h.setAttribute(g,w)}),k(w)}function k(w){x&&S.includes(w)&&(h.style.colorScheme=w)}function p(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(o)f(o);else try{let w=localStorage.getItem(s)||i,g=c&&w==="system"?p():w;f(g)}catch{}},Ne=["light","dark"],De="(prefers-color-scheme: dark)",tt=typeof window>"u",Ae=a.createContext(void 0),nt={setTheme:t=>{},themes:[]},Ie=()=>{var t;return(t=a.useContext(Ae))!=null?t:nt},ot=t=>a.useContext(Ae)?a.createElement(a.Fragment,null,t.children):a.createElement(st,{...t}),rt=["light","dark"],st=({forcedTheme:t,disableTransitionOnChange:s=!1,enableSystem:i=!0,enableColorScheme:o=!0,storageKey:r="theme",themes:n=rt,defaultTheme:c=i?"system":"light",attribute:x="data-theme",value:h,children:S,nonce:f,scriptProps:k})=>{let[p,w]=a.useState(()=>it(r,c)),[g,j]=a.useState(()=>p==="system"?Ce():p),I=h?Object.values(h):n,G=a.useCallback(M=>{let l=M;if(!l)return;M==="system"&&i&&(l=Ce());let P=h?h[l]:l,u=s?ct(f):null,m=document.documentElement,d=v=>{v==="class"?(m.classList.remove(...I),P&&m.classList.add(P)):v.startsWith("data-")&&(P?m.setAttribute(v,P):m.removeAttribute(v))};if(Array.isArray(x)?x.forEach(d):d(x),o){let v=Ne.includes(c)?c:null,b=Ne.includes(l)?l:v;m.style.colorScheme=b}u==null||u()},[f]),q=a.useCallback(M=>{let l=typeof M=="function"?M(p):M;w(l);try{localStorage.setItem(r,l)}catch{}},[p]),F=a.useCallback(M=>{let l=Ce(M);j(l),p==="system"&&i&&!t&&G("system")},[p,t]);a.useEffect(()=>{let M=window.matchMedia(De);return M.addListener(F),F(M),()=>M.removeListener(F)},[F]),a.useEffect(()=>{let M=l=>{l.key===r&&(l.newValue?w(l.newValue):q(c))};return window.addEventListener("storage",M),()=>window.removeEventListener("storage",M)},[q]),a.useEffect(()=>{G(t??p)},[t,p]);let Z=a.useMemo(()=>({theme:p,setTheme:q,forcedTheme:t,resolvedTheme:p==="system"?g:p,themes:i?[...n,"system"]:n,systemTheme:i?g:void 0}),[p,q,t,g,i,n]);return a.createElement(Ae.Provider,{value:Z},a.createElement(at,{forcedTheme:t,storageKey:r,attribute:x,enableSystem:i,enableColorScheme:o,defaultTheme:c,value:h,themes:n,nonce:f,scriptProps:k}),S)},at=a.memo(({forcedTheme:t,storageKey:s,attribute:i,enableSystem:o,enableColorScheme:r,defaultTheme:n,value:c,themes:x,nonce:h,scriptProps:S})=>{let f=JSON.stringify([i,s,n,t,x,c,o,r]).slice(1,-1);return a.createElement("script",{...S,suppressHydrationWarning:!0,nonce:typeof window>"u"?h:"",dangerouslySetInnerHTML:{__html:`(${et.toString()})(${f})`}})}),it=(t,s)=>{if(tt)return;let i;try{i=localStorage.getItem(t)||void 0}catch{}return i||s},ct=t=>{let s=document.createElement("style");return t&&s.setAttribute("nonce",t),s.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(s),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(s)},1)}},Ce=t=>(t||(t=window.matchMedia(De)),t.matches?"dark":"light");const Be=Math.sqrt(5),lt=(Be-1)/4,D=(5-Be)/20,Se=t=>Math.floor(t)|0,ke=new Float64Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]);function dt(t=Math.random){const s=mt(t),i=new Float64Array(s).map(c=>ke[c%32*4]),o=new Float64Array(s).map(c=>ke[c%32*4+1]),r=new Float64Array(s).map(c=>ke[c%32*4+2]),n=new Float64Array(s).map(c=>ke[c%32*4+3]);return function(x,h,S,f){let k,p,w,g,j;const I=(x+h+S+f)*lt,G=Se(x+I),q=Se(h+I),F=Se(S+I),Z=Se(f+I),M=(G+q+F+Z)*D,l=G-M,P=q-M,u=F-M,m=Z-M,d=x-l,v=h-P,b=S-u,A=f-m;let L=0,O=0,B=0,X=0;d>v?L++:O++,d>b?L++:B++,d>A?L++:X++,v>b?O++:B++,v>A?O++:X++,b>A?B++:X++;const U=L>=3?1:0,J=O>=3?1:0,te=B>=3?1:0,Ee=X>=3?1:0,ce=L>=2?1:0,ae=O>=2?1:0,oe=B>=2?1:0,re=X>=2?1:0,K=L>=1?1:0,le=O>=1?1:0,y=B>=1?1:0,R=X>=1?1:0,V=d-U+D,T=v-J+D,Y=b-te+D,$=A-Ee+D,Q=d-ce+2*D,ee=v-ae+2*D,de=b-oe+2*D,E=A-re+2*D,W=d-K+3*D,z=v-le+3*D,H=b-y+3*D,N=A-R+3*D,_=d-1+4*D,ne=v-1+4*D,me=b-1+4*D,se=A-1+4*D,ue=G&255,he=q&255,fe=F&255,ve=Z&255;let pe=.6-d*d-v*v-b*b-A*A;if(pe<0)k=0;else{const C=ue+s[he+s[fe+s[ve]]];pe*=pe,k=pe*pe*(i[C]*d+o[C]*v+r[C]*b+n[C]*A)}let ge=.6-V*V-T*T-Y*Y-$*$;if(ge<0)p=0;else{const C=ue+U+s[he+J+s[fe+te+s[ve+Ee]]];ge*=ge,p=ge*ge*(i[C]*V+o[C]*T+r[C]*Y+n[C]*$)}let ye=.6-Q*Q-ee*ee-de*de-E*E;if(ye<0)w=0;else{const C=ue+ce+s[he+ae+s[fe+oe+s[ve+re]]];ye*=ye,w=ye*ye*(i[C]*Q+o[C]*ee+r[C]*de+n[C]*E)}let xe=.6-W*W-z*z-H*H-N*N;if(xe<0)g=0;else{const C=ue+K+s[he+le+s[fe+y+s[ve+R]]];xe*=xe,g=xe*xe*(i[C]*W+o[C]*z+r[C]*H+n[C]*N)}let we=.6-_*_-ne*ne-me*me-se*se;if(we<0)j=0;else{const C=ue+1+s[he+1+s[fe+1+s[ve+1]]];we*=we,j=we*we*(i[C]*_+o[C]*ne+r[C]*me+n[C]*se)}return 27*(k+p+w+g+j)}}function mt(t){const i=new Uint8Array(512);for(let o=0;o<512/2;o++)i[o]=o;for(let o=0;o<512/2-1;o++){const r=o+~~(t()*(256-o)),n=i[o];i[o]=i[r],i[r]=n}for(let o=256;o<512;o++)i[o]=i[o-256];return i}const ut=()=>{const t=a.useRef(null),s=a.useRef(null),i=a.useRef(null),o=a.useRef(null),r=a.useRef(null),n=a.useRef(null);a.useRef(new Re),a.useRef(!1),a.useRef(0),a.useRef({x:0,y:0});const c=a.useRef(0),x=a.useRef(!1),h=a.useRef(0),S=a.useRef(0),[f,k]=a.useState(null),{theme:p}=Ie();return f?e.jsx("div",{className:"error-message",children:"Animation failed to load. Please refresh the page."}):(a.useEffect(()=>{console.log("BackgroundAnimation useEffect started");let w=[];t.current&&t.current.children.length>0&&(console.log("Clearing existing canvas elements"),Array.from(t.current.children).forEach(g=>{t.current.removeChild(g)}));try{const g=()=>{if(console.log("Initializing scene..."),!t.current)return console.error("Container ref is null"),null;const l=t.current.offsetWidth,P=t.current.offsetHeight;console.log("Container dimensions:",l,P);const u=new ze({antialias:!0,alpha:!0});u.setClearColor(16117990,0),u.setPixelRatio(window.devicePixelRatio),u.setSize(l,P),u.domElement.style.width="100%",u.domElement.style.height="100%",u.domElement.style.position="absolute",u.domElement.style.top="0",u.domElement.style.left="0",u.domElement.style.pointerEvents="auto",t.current.appendChild(u.domElement);const m=new Fe,d=new We(60,l/P,.1,1e3);return d.position.z=28,d.position.y=1.5,s.current=u,i.current=d,o.current=m,console.log("Scene, camera, renderer initialized"),{scene:m,camera:d,renderer:u}},j=()=>{console.log("Creating torus with cycling shaders...");const l=()=>{const m=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),d=m?32:64,v=m?64:128,b=new Ge(2.5,.5,d,v),A=b.attributes.position.count,L=new Float32Array(b.attributes.position.array),O=new Float32Array(A*3);for(let B=0;B<A;B++){const U=.6+.2*(L[B*3+1]+2)/4,J=new Le().setHSL(U%1,1,.7);O.set([J.r,J.g,J.b],B*3)}return b.setAttribute("color",new Oe(O,3)),b.attributes.color.needsUpdate=!0,b.userData={initialPositions:L,colors:O},b},P=m=>[{name:"Crystal Glass",material:new Ve({color:8965375,roughness:0,metalness:0,transmission:.9,transparent:!0,opacity:.8,clearcoat:1,clearcoatRoughness:0,ior:1.8,thickness:1,envMap:m,envMapIntensity:1.5})},{name:"Molten Lava",material:new Me({uniforms:{time:{value:0}},vertexShader:`
                  varying vec3 vPosition;
                  varying vec3 vNormal;
                  
                  void main() {
                    vPosition = position;
                    vNormal = normal;
                    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
                  }
                `,fragmentShader:`
                  uniform float time;
                  varying vec3 vPosition;
                  varying vec3 vNormal;
                  
                  float noise(vec3 p) {
                    return fract(sin(dot(p, vec3(12.9898, 78.233, 45.543))) * 43758.5453);
                  }
                  
                  void main() {
                    vec3 p = vPosition * 2.0 + time * 0.5;
                    float n = noise(p) * 0.5 + noise(p * 2.0) * 0.25 + noise(p * 4.0) * 0.125;
                    
                    float heat = sin(vPosition.y * 5.0 + time * 2.0 + n * 3.0) * 0.5 + 0.5;
                    
                    vec3 cold = vec3(0.8, 0.1, 0.0); // Dark red
                    vec3 hot = vec3(1.0, 0.8, 0.2);  // Bright yellow
                    vec3 color = mix(cold, hot, heat);
                    
                    // Add some emissive glow
                    color += vec3(0.3, 0.1, 0.0) * heat;
                    
                    gl_FragColor = vec4(color, 1.0);
                  }
                `})},{name:"Digital Matrix",material:new Me({uniforms:{time:{value:0}},vertexShader:`
                  varying vec3 vPosition;
                  varying vec3 vNormal;
                  varying vec3 vWorldPosition;
                  
                  void main() {
                    vPosition = position;
                    vNormal = normal;
                    vec4 worldPos = modelMatrix * vec4(position, 1.0);
                    vWorldPosition = worldPos.xyz;
                    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
                  }
                `,fragmentShader:`
                  uniform float time;
                  varying vec3 vPosition;
                  varying vec3 vNormal;
                  varying vec3 vWorldPosition;
                  
                  void main() {
                    // Create grid pattern
                    vec3 p = vWorldPosition * 4.0;
                    vec3 grid = abs(fract(p) - 0.5) / fwidth(p);
                    float lineWidth = min(min(grid.x, grid.y), grid.z);
                    float gridMask = 1.0 - min(lineWidth, 1.0);
                    
                    // Digital rain effect
                    float rain = fract(sin(floor(p.x) * 123.456 + floor(p.z) * 789.012) * 43758.5453);
                    rain = smoothstep(0.8, 1.0, rain);
                    float rainAnim = fract(time * 2.0 + rain * 10.0);
                    rainAnim = smoothstep(0.0, 0.2, rainAnim) * (1.0 - smoothstep(0.8, 1.0, rainAnim));
                    
                    vec3 color = vec3(0.0, 1.0, 0.3) * gridMask; // Green wireframe
                    color += vec3(0.0, 1.0, 0.8) * rainAnim * rain; // Cyan rain
                    
                    // Add some base glow
                    color += vec3(0.0, 0.3, 0.1) * 0.3;
                    
                    gl_FragColor = vec4(color, 1.0);
                  }
                `})},{name:"Liquid Gold",material:new Me({uniforms:{time:{value:0},envMap:{value:m}},vertexShader:`
                  varying vec3 vNormal;
                  varying vec3 vPosition;
                  varying vec3 vViewDirection;
                  
                  void main() {
                    vNormal = normalize(normalMatrix * normal);
                    vPosition = position;
                    vec4 worldPosition = modelMatrix * vec4(position, 1.0);
                    vViewDirection = normalize(cameraPosition - worldPosition.xyz);
                    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
                  }
                `,fragmentShader:`
                  uniform float time;
                  uniform samplerCube envMap;
                  varying vec3 vNormal;
                  varying vec3 vPosition;
                  varying vec3 vViewDirection;
                  
                  float noise(vec3 p) {
                    return fract(sin(dot(p, vec3(12.9898, 78.233, 45.543))) * 43758.5453);
                  }
                  
                  void main() {
                    // Flowing liquid effect
                    vec3 p = vPosition * 3.0 + time * 0.2;
                    float flow = noise(p) * 0.5 + noise(p * 2.0) * 0.25;
                    
                    // Gold color gradient
                    vec3 darkGold = vec3(0.8, 0.5, 0.1);
                    vec3 brightGold = vec3(1.0, 0.9, 0.3);
                    vec3 goldColor = mix(darkGold, brightGold, flow);
                    
                    // Fresnel for metallic look
                    float fresnel = pow(1.0 - dot(vViewDirection, vNormal), 2.0);
                    
                    // Environment reflection
                    vec3 reflectVec = reflect(-vViewDirection, vNormal);
                    vec3 envColor = textureCube(envMap, reflectVec).rgb;
                    
                    // Combine everything
                    vec3 color = mix(goldColor, envColor * goldColor, fresnel * 0.8);
                    
                    // Add some extra shine
                    color += vec3(1.0, 0.9, 0.6) * pow(fresnel, 4.0) * 0.3;
                    
                    gl_FragColor = vec4(color, 1.0);
                  }
                `})}],u=["https://threejs.org/examples/textures/cube/Bridge2/posx.jpg","https://threejs.org/examples/textures/cube/Bridge2/negx.jpg","https://threejs.org/examples/textures/cube/Bridge2/posy.jpg","https://threejs.org/examples/textures/cube/Bridge2/negy.jpg","https://threejs.org/examples/textures/cube/Bridge2/posz.jpg","https://threejs.org/examples/textures/cube/Bridge2/negz.jpg"];return new Promise(m=>{console.log("Loading environment map..."),new He().load(u,d=>{console.log("Environment map loaded");const v=P(d),b=l(),A=0,L=new _e(b,v[A].material);L.position.y=1.5,L.userData={shaderMaterials:v,currentShaderIndex:A,lastShaderChange:0},r.current=L,console.log("Torus with cycling shaders created"),m(L)})})},I=l=>{console.log("Setting up lights"),[{color:16711935,intensity:2.5,position:[4,4,6]},{color:65535,intensity:2.5,position:[-4,-4,6]},{color:16776960,intensity:2,position:[0,6,0]},{color:65280,intensity:2,position:[0,-6,0]}].forEach(d=>{const v=new Ue(d.color,d.intensity,100);v.position.set(...d.position),l.add(v)});const u=new Ke(16777215,2.5);u.position.set(5,10,10),l.add(u);const m=new qe(16777215,1.5);l.add(m),console.log("Lights setup complete")},G=(l,P,u,m)=>{console.log("Starting animation loop...");let d=0,v={x:0,y:0},b=!1;const A=l.geometry,L=A.userData.initialPositions,O=A.userData.colors,B=dt(),X=new Xe;let U=1,J=1,te=null;const Ee=()=>{const V=3*U*1.8,T=u.fov*(Math.PI/180),Y=u.aspect,$=S.current,Q=V/Math.tan(T/2),ee=V/(Math.tan(T/2)*Y);return Math.max(Q,ee)*(1+$*.1)};function ce(y){c.current||(c.current=y);const R=(y-c.current)/1e3;c.current=y;const V=4e3;if(l.userData&&l.userData.shaderMaterials){const E=l.userData;if(y-E.lastShaderChange>V){E.currentShaderIndex=(E.currentShaderIndex+1)%E.shaderMaterials.length;const z=E.shaderMaterials[E.currentShaderIndex];l.material=z.material,E.lastShaderChange=y,console.log(`Switched to shader: ${z.name}`)}}l.material.uniforms&&l.material.uniforms.time&&(l.material.uniforms.time.value=y*.001),S.current+=(h.current-S.current)*Math.min(1,R*3);const T=S.current,Y=y*7e-4*(1+T*2),$=A.attributes.color.array;for(let E=0;E<O.length;E+=3){const W=L[E],z=L[E+2],H=.6,N=Math.sin(Y*.5)*.2,_=Math.sin(Y*2)*.2*T,ne=Math.sin(W*.5+z*.3)*.1,me=(H+.2*(W+2)/4+N+_+ne)%1,se=new Le().setHSL(me,1,.7);$[E]=se.r,$[E+1]=se.g,$[E+2]=se.b}const Q=A.attributes.position;for(let E=0;E<Q.count;E++){const W=L[E*3],z=L[E*3+1],H=L[E*3+2];let N=1+.18*B(W*.7,z*.7,H*.7,Y);if(T>0){const _=B(W*1.2,z*1.2,H*1.2,Y*2)*.3*T;N+=_}if(b){const _=new Je(W,z,H);_.applyMatrix4(l.matrixWorld),_.project(u);const ne=Math.sqrt(Math.pow(_.x-v.x,2)+Math.pow(_.y-v.y,2));ne<.3&&(N+=(.4-ne)*d)}!b&&N>1&&(N-=R*1.5*(N-1)),N=Math.max(.5,N),Q.setXYZ(E,W*N,z*N,H*N)}U+=(J-U)*Math.min(1,R*8);const ee=1+Math.sin(y*.005)*.08*T;l.scale.set(U*ee,U*ee,U*ee);const de=Ee();if(u.position.z=de,u.position.y=1.5,u.lookAt(0,1.5,0),!b){const z=y*.001,H=B(z*.5,0,0,0)*.02,N=B(0,z*.5,0,0)*.02;l.rotation.x+=.01+.02*T+H,l.rotation.y+=.005+.01*T+N}Q.needsUpdate=!0,A.attributes.color.needsUpdate=!0,A.computeVertexNormals(),m.render(P,u),n.current=requestAnimationFrame(ce)}const ae=y=>{const R=m.domElement.getBoundingClientRect(),V=y.touches?y.touches[0].clientX:y.clientX,T=y.touches?y.touches[0].clientY:y.clientY;return{x:(V-R.left)/R.width*2-1,y:-((T-R.top)/R.height)*2+1}},oe=y=>{y.preventDefault(),b=!0,d=.5;const R=ae(y);v.x=R.x,v.y=R.y},re=y=>{if(b){y.preventDefault();const R=ae(y);v.x=R.x,v.y=R.y}},K=y=>{y.preventDefault(),b=!1,d=0},le=y=>{y.preventDefault();const R=ae(y),V=new Re(R.x,R.y);X.setFromCamera(V,u),X.intersectObject(l).length>0&&(x.current=!x.current,h.current=x.current?1:0,J=1.2,te&&clearTimeout(te),te=setTimeout(()=>{J=1},200))};return m.domElement.addEventListener("mousedown",oe),window.addEventListener("mousemove",re),window.addEventListener("mouseup",K),m.domElement.addEventListener("click",le),window.addEventListener("mouseleave",K),m.domElement.addEventListener("touchstart",oe,{passive:!1}),m.domElement.addEventListener("touchmove",re,{passive:!1}),m.domElement.addEventListener("touchend",K,{passive:!1}),m.domElement.addEventListener("touchcancel",K,{passive:!1}),n.current=requestAnimationFrame(ce),()=>{m.domElement.removeEventListener("mousedown",oe),window.removeEventListener("mousemove",re),window.removeEventListener("mouseup",K),m.domElement.removeEventListener("click",le),window.removeEventListener("mouseleave",K),m.domElement.removeEventListener("touchstart",oe),m.domElement.removeEventListener("touchmove",re),m.domElement.removeEventListener("touchend",K),m.domElement.removeEventListener("touchcancel",K),te&&clearTimeout(te),n.current&&cancelAnimationFrame(n.current)}},q=(l,P)=>{const u=()=>{if(!t.current)return;const d=t.current.offsetWidth,v=t.current.offsetHeight;l.aspect=d/v,l.updateProjectionMatrix(),P.setSize(d,v,!1),P.domElement.style.width="100%",P.domElement.style.height="100%"};u();const m=new window.ResizeObserver(u);return m.observe(t.current),window.addEventListener("resize",u),()=>{m.disconnect(),window.removeEventListener("resize",u)}};console.log("Starting animation initialization...");const{scene:F,camera:Z,renderer:M}=g();if(!F||!Z||!M){console.error("Failed to initialize scene components");return}j().then(l=>{console.log("Torus created, adding to scene...");const P=[];F.traverse(d=>{d.type==="Mesh"&&P.push(d)}),P.forEach(d=>{F.remove(d),d.geometry&&d.geometry.dispose(),d.material&&d.material.dispose()}),F.add(l),I(F);const u=G(l,F,Z,M),m=q(Z,M);w.push(u,m)}).catch(l=>{console.error("Error in animation setup:",l)})}catch(g){console.error("Error in animation initialization:",g),k(g)}return()=>{var g;if(console.log("Cleaning up animation"),n.current&&(cancelAnimationFrame(n.current),n.current=null),w.forEach(j=>j&&j()),o.current&&(o.current.traverse(j=>{j.geometry&&j.geometry.dispose(),j.material&&(Array.isArray(j.material)?j.material.forEach(I=>I.dispose()):j.material.dispose())}),o.current.clear(),o.current=null),t.current&&((g=s.current)!=null&&g.domElement))try{t.current.removeChild(s.current.domElement)}catch{console.log("Canvas already removed")}s.current&&(s.current.dispose(),s.current=null),r.current=null,i.current=null}},[]),e.jsx("div",{ref:t,id:"animation-bg",style:{width:"100vw",height:"100vh",position:"fixed",top:0,left:0,overflow:"hidden",backgroundColor:"transparent",zIndex:-1,pointerEvents:"auto"}}))},ht=()=>{const t=a.useRef(null);return a.useEffect(()=>{const s=t.current;s&&(s.style.background=`
      linear-gradient(45deg, 
        rgba(255, 255, 255, 0.1) 25%, 
        transparent 25%, 
        transparent 75%, 
        rgba(255, 255, 255, 0.1) 75%
      ),
      linear-gradient(-45deg, 
        rgba(255, 255, 255, 0.1) 25%, 
        transparent 25%, 
        transparent 75%, 
        rgba(255, 255, 255, 0.1) 75%
      )
    `,s.style.backgroundSize="20px 20px",s.style.animation="simpleBackgroundMove 20s linear infinite")},[]),e.jsx("div",{ref:t,style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:-1,opacity:.3,pointerEvents:"none"}})},ft=()=>{const[t,s]=a.useState("auto"),[i,o]=a.useState(!1);return a.useEffect(()=>{(()=>{const S=document.createElement("canvas"),f=S.getContext("webgl")||S.getContext("experimental-webgl");if(!f){o(!0);return}const k=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),p=navigator.deviceMemory&&navigator.deviceMemory<4,w=navigator.hardwareConcurrency&&navigator.hardwareConcurrency<4,g=f.getExtension("WEBGL_debug_renderer_info"),j=g?f.getParameter(g.UNMASKED_RENDERER_WEBGL):"",I=j.toLowerCase().includes("intel")||j.toLowerCase().includes("integrated");o(k||p||w||I)})();let n=0,c=performance.now(),x;const h=()=>{n++;const S=performance.now();if(S-c>=1e3){const f=n;n=0,c=S,f<30&&!i&&o(!0)}x=requestAnimationFrame(h)};return x=requestAnimationFrame(h),()=>{x&&cancelAnimationFrame(x)}},[i]),{isLowPerformance:i,performanceMode:t,setPerformanceMode:s}},vt=(t,s)=>{let i,o=0;return function(...r){const n=Date.now();n-o>s?(t(...r),o=n):(clearTimeout(i),i=setTimeout(()=>{t(...r),o=Date.now()},s-(n-o)))}};function pt(){const t=a.useRef(null);a.useRef(null);const[s,i]=a.useState({x:0,y:0}),{isLowPerformance:o}=ft(),r=a.useCallback(vt((n,c)=>i({x:n,y:c}),o?100:16),[o]);return a.useEffect(()=>{document.body.classList.add("home-no-scroll");const n="Hi, I'm Benjamin Nashel";let c=0;t.current.textContent="";const h=setInterval(()=>{c<n.length?(t.current.textContent+=n.charAt(c),c++):clearInterval(h)},o?50:100),S=f=>{const k=f.clientX/window.innerWidth,p=f.clientY/window.innerHeight;r(k,p)};return window.addEventListener("mousemove",S,{passive:!0}),()=>{clearInterval(h),document.body.classList.remove("home-no-scroll"),window.removeEventListener("mousemove",S)}},[]),e.jsxs("div",{className:"content fade-in",children:[e.jsxs("div",{className:"gradient-overlay-container",children:[e.jsx("div",{className:"gradient-overlay gradient-overlay-1"}),!o&&e.jsx("div",{className:"gradient-overlay gradient-overlay-2"}),!o&&e.jsx("div",{className:"gradient-overlay gradient-overlay-3"})]}),e.jsx("div",{className:"home-title-fixed",ref:t}),o?e.jsx(ht,{}):e.jsx(ut,{})]})}const gt="/bnportfolio-react/assets/road-DwEfJmvx.jpg";function ie({src:t,alt:s,className:i,style:o}){const[r,n]=a.useState(!1);return a.useEffect(()=>{const c=new window.Image;return c.src=t,c.onload=()=>n(!0),()=>{c.onload=null}},[t]),e.jsx("img",{src:t,alt:s,loading:"lazy",className:i,style:{width:"100%",height:"auto",display:"block",opacity:r?1:0,transition:"opacity 0.3s ease",...o}})}function yt(){return e.jsx("div",{className:"content fade-in",children:e.jsxs("div",{className:"page-content-top",children:[e.jsx("div",{className:"art-image-container",children:e.jsx("img",{className:"about-photo",src:gt,alt:"on the road"})}),e.jsx("div",{style:{textAlign:"center",fontWeight:"bold",fontSize:"1.15em",marginBottom:"3rem"},children:"Welcome to my personal anthology"}),e.jsxs("div",{className:"bio",children:[e.jsxs("div",{style:{textAlign:"left",marginBottom:"2rem"},children:["I'm originally from Brooklyn and currently a student at Vanderbilt University, studying Economics and History.",e.jsx("br",{}),e.jsx("br",{}),"I attended the Packer Collegiate Institute from 2020 to 2024 and spent most of high school focused on classical piano and composing electronic music. This inspired me to start a music tutoring nonprofit called InTune. We had lessons running across three continents by the time I graduated.",e.jsx("br",{}),e.jsx("br",{}),"I also have a deep love for historical research—particularly the Boasian Circle and early cultural anthropology. I'm fascinated by how notions of culture travel across time and geography, and I've spent the past few years exploring those connections through archival research and academic writing.",e.jsx("br",{}),e.jsx("br",{}),"Now at Vanderbilt, I'm working at an AI-native marketing software startup called Enttor, where we build tools that help consumer brands scale content efficiently without losing their creative voice.",e.jsx("br",{}),e.jsx("br",{}),"Across music, research, and startups, I'm drawn to the same core impulse: using ideas to build something lasting and something that connects people. Whether composing a piece, tracing the evolution of cultural theory, or launching a product, I'm motivated by a curiosity about how things fit together and a desire to shape systems that help others express themselves more fully."]}),e.jsxs("div",{className:"social-links",children:[e.jsx("a",{href:"https://www.instagram.com/bnashel/",target:"_blank",rel:"noopener noreferrer",children:"Instagram"})," | ",e.jsx("a",{href:"https://www.linkedin.com/in/benjamin-nashel-06770a333/",target:"_blank",rel:"noopener noreferrer",children:"LinkedIn"})]})]})]})})}const xt="/bnportfolio-react/assets/deathofsocrates-DJGRrRYX.png",wt="/bnportfolio-react/assets/triumphofdeath-C3dy4ADc.png",bt="/bnportfolio-react/assets/fallofrebelangels-DZPKWGuf.png",jt="/bnportfolio-react/assets/disintegrationofpersistence-BrR6xPJj.png",Et="/bnportfolio-react/assets/creationofbirds-CHiuFGVh.png",St="/bnportfolio-react/assets/melancholyandmystery-DCpCkABj.png";function kt(){return e.jsx("div",{className:"content fade-in",children:e.jsxs("div",{className:"page-content-top",children:[e.jsx("div",{className:"art-image-container",children:e.jsx(ie,{src:xt,alt:"The Death of Socrates",className:"artwork-placeholder"})}),e.jsx("div",{className:"centered",children:"The Death of Socrates (Jacques-Louis David, 1787)"}),e.jsx("div",{className:"art-image-container",children:e.jsx(ie,{src:wt,alt:"The Triumph of Death",className:"artwork-placeholder"})}),e.jsx("div",{className:"centered",children:"The Triumph of Death (Pieter Bruegel the Elder, 1562)"}),e.jsx("div",{className:"art-image-container",children:e.jsx(ie,{src:bt,alt:"The Fall of the Rebel Angels",className:"artwork-placeholder"})}),e.jsx("div",{className:"centered",children:"The Fall of the Rebel Angels (Pieter Bruegel the Elder, 1562)"}),e.jsx("div",{className:"art-image-container",children:e.jsx(ie,{src:jt,alt:"The Disintegration of the Persistence of Memory",className:"artwork-placeholder"})}),e.jsx("div",{className:"centered",children:"The Disintegration of the Persistence of Memory (Salvador Dalí, 1954)"}),e.jsx("div",{className:"art-image-container",children:e.jsx(ie,{src:Et,alt:"The Creation of the Birds",className:"artwork-placeholder"})}),e.jsx("div",{className:"centered",children:"The Creation of the Birds (Remedios Varo, 1957)"}),e.jsx("div",{className:"art-image-container",children:e.jsx(ie,{src:St,alt:"Melancholy and Mystery of a Street",className:"artwork-placeholder"})}),e.jsx("div",{className:"centered",children:"Melancholy and Mystery of a Street (Giorgio de Chirico, 1914)"})]})})}const Te=5*60*1e3,Mt=1e3,Pe=50,Ct=Mt/Pe,Pt=()=>{const t=a.useRef(null),[s,i]=a.useState(!1),[o,r]=a.useState(null),n=a.useRef(null),c=a.useRef(new Map);a.useEffect(()=>{const k=setInterval(()=>{const p=Date.now();for(const[w,g]of c.current.entries())p-g.timestamp>Te&&c.current.delete(w)},Te);return()=>clearInterval(k)},[]);const x=a.useCallback((f,k)=>{var j;n.current&&clearInterval(n.current);const p=((j=t.current)==null?void 0:j.volume)||0,w=(f-p)/Pe;let g=0;n.current=setInterval(()=>{if(!t.current)return;g++;const I=p+w*g;t.current.volume=Math.max(0,Math.min(1,I)),g>=Pe&&(clearInterval(n.current),k&&k())},Ct)},[]),h=a.useCallback(f=>{if(!f)return;const k=c.current.get(f.src);if(k){t.current=k.audio,t.current.currentTime=0,t.current.volume=0,t.current.play(),x(1),i(!0),r(f);return}const p=new Audio(f.src);p.volume=0,t.current=p,c.current.set(f.src,{audio:p,timestamp:Date.now()}),p.play().then(()=>{x(1),i(!0),r(f)})},[x]),S=a.useCallback(()=>{t.current&&x(0,()=>{t.current&&(t.current.pause(),t.current.currentTime=0,t.current.volume=1),i(!1),r(null)})},[x]);return a.useEffect(()=>()=>{n.current&&clearInterval(n.current),t.current&&(t.current.pause(),t.current=null)},[]),{audioRef:t,isPlaying:s,currentTrack:o,playTrack:h,stopTrack:S}};function At({tracks:t}){const s=Ze(),{audioRef:i,isPlaying:o,currentTrack:r,playTrack:n,stopTrack:c}=Pt(),x=h=>{(r==null?void 0:r.src)===h.src?c():n(h)};return a.useEffect(()=>()=>{c()},[s.pathname,c]),e.jsx("div",{className:"content fade-in",children:e.jsxs("div",{className:"page-content-top",children:[e.jsx("div",{className:"section-title",children:"A selection of ambient music I've composed in my free time:"}),e.jsx("div",{className:"tracklist",children:t.map(h=>{const[S,f]=h.desc.split(`
`),k=(r==null?void 0:r.src)===h.src;return e.jsxs("div",{className:"track-card",children:[e.jsxs("div",{className:"track-title-col",children:[e.jsx("span",{className:"track-link",style:{textDecoration:"underline",cursor:"pointer",color:k?"#666":"#222",marginBottom:8,transition:"color 0.3s ease"},onClick:()=>x(h),children:h.title}),e.jsx("div",{className:`audio-player-container ${k?"expanded":""}`,children:k&&e.jsx("audio",{ref:i,src:h.src,controls:!0,style:{opacity:o?1:.7,transition:"opacity 0.3s ease"},onEnded:c})})]}),e.jsx("div",{className:"track-details",children:e.jsxs("div",{className:"track-instr",children:[e.jsx("strong",{children:e.jsx("em",{children:"Instrumentation:"})})," ",f.replace("Instrumentation: ","")]})})]},h.title)})})]})})}function Rt(){return e.jsx("div",{className:"content fade-in",children:e.jsxs("div",{className:"page-content-top",children:[e.jsx("div",{className:"section-title",children:"My Favorite Movies:"}),e.jsxs("div",{className:"list",children:["A Clockwork Orange (Dir. Stanley Kubrick)",e.jsx("br",{}),"Scarface (Dir. Brian De Palma)",e.jsx("br",{}),"Black Swan (Dir. Darren Aronofsky)",e.jsx("br",{}),"Oldboy (Dir. Park Chan-wook)",e.jsx("br",{}),"City of God (Dir. Fernando Meirelles & Katía Lund)"]}),e.jsx("div",{className:"section-title",children:"My Favorite Books:"}),e.jsxs("div",{className:"list",children:["The Plot Against America (By Philip Roth)",e.jsx("br",{}),"Kafka on the Shore (By Haruki Murakami)",e.jsx("br",{}),"The Wind-Up Bird Chronicle (By Haruki Murakami)",e.jsx("br",{}),"Fierce Invalids Home from Hot Climates (By Tom Robbins)",e.jsx("br",{}),"The Dharma Bums (By Jack Kerouac)"]})]})})}function Lt({children:t}){return e.jsx(ot,{attribute:"class",defaultTheme:"light",enableSystem:!0,disableTransitionOnChange:!1,children:t})}const Nt=()=>{const[t,s]=a.useState(!1),{theme:i,setTheme:o}=Ie();return a.useEffect(()=>{s(!0)},[]),t?e.jsx("button",{onClick:()=>o(i==="dark"?"light":"dark"),onMouseEnter:r=>{r.target.style.color=i==="dark"?"#a3a3a3":"#666",r.target.style.background=i==="dark"?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.05)",r.target.style.transform="translate3d(0, -2px, 0)"},onMouseLeave:r=>{r.target.style.color=i==="dark"?"#e5e5e5":"#111",r.target.style.background="none",r.target.style.transform="translate3d(0, 0, 0)"},style:{background:"none",border:i==="dark"?"1px solid #e5e5e5":"1px solid #111",color:i==="dark"?"#e5e5e5":"#111",padding:"0.5rem 0.7rem 0.3rem 0.7rem",borderRadius:"4px",fontSize:"clamp(0.95rem, 4vw, 1.15rem)",cursor:"pointer",transition:"color 0.2s ease, transform 0.2s ease, background 0.2s ease",margin:"0 0.3rem",textDecoration:"none",fontFamily:"inherit",position:"relative",display:"inline-block",width:"auto",textAlign:"center",willChange:"transform",transform:"translate3d(0, 0, 0)",whiteSpace:"nowrap"},"aria-label":"Toggle dark mode",children:i==="dark"?"Light":"Dark"}):null},Tt="/bnportfolio-react/assets/Blue%20Wave-D5RRLzMZ.m4a",Dt="/bnportfolio-react/assets/Drum%20Buddy%20long%20H%20011024-CXGo5jF3.m4a",It="/bnportfolio-react/assets/Morning%20Phase-BNT25LVh.m4a",Bt="/bnportfolio-react/assets/The%20Golden%20God-DkT95Wtc.m4a",zt="/bnportfolio-react/assets/The%20Inevitable%20Cycle-C4Jpx6m0.m4a",Ft=[{title:"Blue Wave",desc:`Sound: Warm, sustained, with slow attack and low-pass filtering
Instrumentation: Arturia Prophet V, Felt Piano, Serum (analog waveforms), Omnisphere`,src:Tt},{title:"Drum Buddy",desc:`Sound: Lo-fi, percussive, experimental with analog grit
Instrumentation: Custom hardware drum synth (Drum Buddy), Modular V, RC-20`,src:Dt},{title:"Morning Phase",desc:`Sound: Intimate, ambient, cinematic with soft dynamics
Instrumentation: Felt Piano, Kontakt textures, B3 organ emulation, Valhalla Shimmer`,src:It},{title:"The Golden God",desc:`Sound: Distorted, analog-heavy, energetic with punch
Instrumentation: Arturia Mini V, u-he Diva, Maschine drum rack, Serum sub bass, Stutter Edit`,src:Bt},{title:"The Snapped Link",desc:`Sound: Lush, pulsing, ambient with evolving layers
Instrumentation: Arturia Prophet V, Diva bass, XO drum sampler, Output Portal, Omnisphere`,src:zt}];function Wt(){return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"fixed-header",children:[e.jsx("div",{className:"header-spacer"}),e.jsxs("div",{className:"header-nav-center",children:[e.jsx(be,{to:"/",children:"Home"}),e.jsx(be,{to:"/about",children:"About Me"}),e.jsx(be,{to:"/movies-books",children:"Movies & Books"}),e.jsx(be,{to:"/art",children:"Art"}),e.jsx(be,{to:"/music",children:"Music"})]}),e.jsx("div",{className:"header-right",children:e.jsx(Nt,{})})]}),e.jsx("div",{className:"content fade-in",children:e.jsxs(Qe,{children:[e.jsx(je,{path:"/",element:e.jsx(pt,{})}),e.jsx(je,{path:"/about",element:e.jsx(yt,{})}),e.jsx(je,{path:"/art",element:e.jsx(kt,{})}),e.jsx(je,{path:"/music",element:e.jsx(At,{tracks:Ft})}),e.jsx(je,{path:"/movies-books",element:e.jsx(Rt,{})})]})})]})}function Gt(){return e.jsx(Lt,{children:e.jsx($e,{basename:"/bnportfolio-react",children:e.jsx(Wt,{})})})}Ye.createRoot(document.getElementById("root")).render(e.jsx(a.StrictMode,{children:e.jsx(Gt,{})}));
